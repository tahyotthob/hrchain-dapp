{"ast":null,"code":"import React,{useState,useEffect,useCallback}from\"react\";import{ethers,BrowserProvider,Contract,parseEther}from\"ethers\";import HRChainABI from\"./HRChain.json\";import clickSound from\"./click.wav\";import Particles from\"react-tsparticles\";import{loadSlim}from\"tsparticles-slim\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import\"./App.css\";import{WalletConnectConnector}from\"@web3-react/walletconnect-connector\";// Environment configuration\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const config={CONTRACT_ADDRESS:process.env.REACT_APP_CONTRACT_ADDRESS||\"0x53dD1b708b3B23cdD63eD6Fc882780dEBb647BA0\",RPC_URLS:[process.env.REACT_APP_PRIMARY_RPC_URL||\"https://rpc.nexus.xyz/http\",process.env.REACT_APP_BACKUP_RPC_URL||\"https://backup-rpc.nexus.xyz/http\"],CHAIN_ID:process.env.REACT_APP_CHAIN_ID||\"393\",CHAIN_NAME:process.env.REACT_APP_CHAIN_NAME||\"Nexus Devnet\"};// Initialize WalletConnect\nconst walletconnect=new WalletConnectConnector({rpc:{[parseInt(config.CHAIN_ID)]:config.RPC_URLS[0]},bridge:\"https://bridge.walletconnect.org\",qrcode:true});function App(){const[provider,setProvider]=useState(null);const[signer,setSigner]=useState(null);const[contract,setContract]=useState(null);const[account,setAccount]=useState(null);const[title,setTitle]=useState(\"\");const[description,setDescription]=useState(\"\");const[limit,setLimit]=useState(\"\");const[jobId,setJobId]=useState(\"\");const[jobDetails,setJobDetails]=useState(null);const[employerJobs,setEmployerJobs]=useState([]);const[filter,setFilter]=useState(\"All\");const[theme,setTheme]=useState(\"dark\");const[isLoading,setIsLoading]=useState(false);const[activeRpcIndex,setActiveRpcIndex]=useState(0);const[soundEnabled,setSoundEnabled]=useState(true);// Preload audio\nconst clickAudio=new Audio(clickSound);clickAudio.preload=\"auto\";const playSound=()=>{if(!soundEnabled)return;clickAudio.play().catch(error=>{console.log(\"Sound play error:\",error);// Only show error once and then disable sound\nif(soundEnabled){setSoundEnabled(false);toast.info(\"Sound effects disabled due to browser restrictions\",{position:\"bottom-left\",autoClose:3000,theme:theme});}});};const toggleTheme=()=>{setTheme(theme===\"dark\"?\"light\":\"dark\");playSound();};const toggleSound=()=>{setSoundEnabled(!soundEnabled);if(!soundEnabled){toast.info(\"Sound effects enabled\",{position:\"bottom-left\",autoClose:2000,theme:theme});}else{toast.info(\"Sound effects disabled\",{position:\"bottom-left\",autoClose:2000,theme:theme});}};// Improved connection with multiple wallet options and RPC fallback\nconst connectWallet=async function(){let connectionType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'metamask';setIsLoading(true);try{if(connectionType==='metamask'){if(!window.ethereum){toast.error(\"MetaMask not detected! Please install MetaMask or try another connection method.\",{position:\"top-center\",autoClose:5000,theme:theme});setIsLoading(false);return;}const browserProvider=new BrowserProvider(window.ethereum);await browserProvider.send(\"eth_requestAccounts\",[]);const walletSigner=await browserProvider.getSigner();const address=await walletSigner.getAddress();// Initialize contract\nconst contractInstance=new Contract(config.CONTRACT_ADDRESS,HRChainABI,walletSigner);setProvider(browserProvider);setSigner(walletSigner);setContract(contractInstance);setAccount(address);// Switch to the correct network\ntry{await switchToCorrectNetwork(window.ethereum);}catch(switchError){console.error(\"Network switch error:\",switchError);toast.error(\"Failed to switch network. Please try again.\",{position:\"top-right\",autoClose:5000,theme:theme});setIsLoading(false);return;}toast.success(\"Connected to wallet successfully!\",{position:\"top-right\",autoClose:3000,theme:theme});}else if(connectionType==='walletconnect'){await walletconnect.activate();const address=walletconnect.account;// Create provider and signer for WalletConnect\nconst wcProvider=new ethers.providers.Web3Provider(walletconnect.provider);const wcSigner=wcProvider.getSigner();const contractInstance=new Contract(config.CONTRACT_ADDRESS,HRChainABI,wcSigner);setProvider(wcProvider);setSigner(wcSigner);setContract(contractInstance);setAccount(address);toast.success(\"Connected via WalletConnect!\",{position:\"top-right\",autoClose:3000,theme:theme});}}catch(error){console.error(\"Wallet connection error:\",error);toast.error(`Connection failed: ${error.message||\"Unknown error\"}`,{position:\"top-right\",autoClose:5000,theme:theme});}finally{setIsLoading(false);}};const switchToCorrectNetwork=async ethereum=>{try{await ethereum.request({method:\"wallet_switchEthereumChain\",params:[{chainId:`0x${parseInt(config.CHAIN_ID).toString(16)}`}]});}catch(switchError){// This error code indicates that the chain has not been added to MetaMask\nif(switchError.code===4902){await ethereum.request({method:\"wallet_addEthereumChain\",params:[{chainId:`0x${parseInt(config.CHAIN_ID).toString(16)}`,chainName:config.CHAIN_NAME,rpcUrls:config.RPC_URLS,nativeCurrency:{name:\"NEX\",symbol:\"NEX\",decimals:18}}]});}else{throw switchError;}}};const disconnectWallet=()=>{setProvider(null);setSigner(null);setContract(null);setAccount(null);setEmployerJobs([]);setJobDetails(null);toast.info(\"Wallet disconnected\",{position:\"top-right\",autoClose:3000,theme:theme});};// Enhanced error handling with RPC fallback\nconst getFallbackProvider=()=>{if(!provider&&signer){const nextRpcIndex=(activeRpcIndex+1)%config.RPC_URLS.length;setActiveRpcIndex(nextRpcIndex);console.log(`Switching to fallback RPC: ${config.RPC_URLS[nextRpcIndex]}`);return new ethers.providers.JsonRpcProvider(config.RPC_URLS[nextRpcIndex]);}return provider;};const fetchEmployerJobs=useCallback(async()=>{if(!contract||!account){console.warn(\"Cannot fetch jobs: contract or account not set\");return;}setIsLoading(true);try{const jobs=await contract.getEmployerJobs(account,0,10);console.log('Raw Job IDs:',jobs);if(jobs.length===0){console.log(\"No jobs found for employer:\",account);setEmployerJobs([]);setIsLoading(false);return;}const jobDetailsPromises=jobs.map(async jobId=>{try{const details=await contract.getJob(jobId);console.log(`Job ${jobId} Raw Status:`,details.status);const jobStatus=Number(details.status)===0?\"Open\":\"Closed\";console.log(`Job ${jobId} Interpreted Status:`,jobStatus);return{id:jobId.toString(),title:details.title,status:jobStatus};}catch(error){console.error(`Error fetching details for job ${jobId}:`,error);return{id:jobId.toString(),title:\"Error loading title\",status:\"Unknown\",error:true};}});const jobDetails=await Promise.all(jobDetailsPromises);console.log('Processed Employer Jobs:',jobDetails);setEmployerJobs(jobDetails);}catch(error){console.error(\"Error fetching jobs:\",error);toast.error(\"Failed to fetch jobs. Retrying with backup RPC...\",{position:\"top-right\",autoClose:3000,theme:theme});// Try with fallback RPC\ntry{const fallbackProvider=getFallbackProvider();if(fallbackProvider&&signer){const fallbackContract=new Contract(config.CONTRACT_ADDRESS,HRChainABI,signer.connect(fallbackProvider));const jobs=await fallbackContract.getEmployerJobs(account,0,10);// Similar processing as above\nconst jobDetailsPromises=jobs.map(async jobId=>{const details=await fallbackContract.getJob(jobId);const jobStatus=Number(details.status)===0?\"Open\":\"Closed\";return{id:jobId.toString(),title:details.title,status:jobStatus};});const jobDetails=await Promise.all(jobDetailsPromises);setEmployerJobs(jobDetails);}else{throw new Error(\"No fallback provider available\");}}catch(fallbackError){console.error(\"Fallback RPC also failed:\",fallbackError);toast.error(\"Failed to fetch jobs. Please try again later.\",{position:\"top-right\",autoClose:5000,theme:theme});}}finally{setIsLoading(false);}},[contract,account,theme,activeRpcIndex,provider,signer]);// Set up event listeners with proper cleanup\nuseEffect(()=>{if(contract){const onJobListed=(jobId,employer)=>{console.log(`Job ${jobId} listed by ${employer}`);if(employer.toLowerCase()===(account===null||account===void 0?void 0:account.toLowerCase())){fetchEmployerJobs();toast.success(`🚀 Your new mission #${jobId} has been launched!`,{position:\"top-right\",autoClose:5000,theme:theme});}};const onApplicationSubmitted=(jobId,applicant)=>{console.log(`Application submitted for job ${jobId} by ${applicant}`);toast.info(`🚀 New application for Mission #${jobId} by ${applicant.slice(0,6)}...`,{position:\"top-right\",autoClose:5000,theme:theme});};const onJobClosed=(jobId,employer)=>{console.log(`Job ${jobId} closed by ${employer}`);if((employer===null||employer===void 0?void 0:employer.toLowerCase())===(account===null||account===void 0?void 0:account.toLowerCase())){fetchEmployerJobs();toast.info(`🌌 Mission #${jobId} has been closed!`,{position:\"top-right\",autoClose:5000,theme:theme});}};// Set up event listeners\ncontract.on(\"JobListed\",onJobListed);contract.on(\"ApplicationSubmitted\",onApplicationSubmitted);contract.on(\"JobClosed\",onJobClosed);// Initial data fetch\nfetchEmployerJobs();// Cleanup function - properly remove all listeners\nreturn()=>{if(contract.removeAllListeners){contract.removeAllListeners(\"JobListed\");contract.removeAllListeners(\"ApplicationSubmitted\");contract.removeAllListeners(\"JobClosed\");}else{// Fallback for older ethers versions\ncontract.off(\"JobListed\",onJobListed);contract.off(\"ApplicationSubmitted\",onApplicationSubmitted);contract.off(\"JobClosed\",onJobClosed);}};}},[contract,account,theme,fetchEmployerJobs]);// Save theme preference\nuseEffect(()=>{// Load saved theme from localStorage if available\nconst savedTheme=localStorage.getItem('hrchain-theme');if(savedTheme){setTheme(savedTheme);}// Save theme preference when it changes\nlocalStorage.setItem('hrchain-theme',theme);},[theme]);// Transaction functions with improved error handling\nconst listJob=async()=>{if(!contract){toast.error(\"Wallet not connected\",{position:\"top-right\",autoClose:3000,theme:theme});return;}if(!title||!description||!limit){toast.warning(\"Please fill in all job details\",{position:\"top-right\",autoClose:3000,theme:theme});return;}setIsLoading(true);try{// Validate inputs\nconst limitNum=parseInt(limit);if(isNaN(limitNum)||limitNum<=0){throw new Error(\"Crew limit must be a positive number\");}const tx=await contract.listJob(title,description,limitNum,{value:parseEther(\"0.01\")});toast.info(`🚀 Mission launch initiated! Transaction hash: ${tx.hash.slice(0,10)}...`,{position:\"bottom-right\",autoClose:5000,theme:theme});await tx.wait();toast.success(\"Mission launched successfully!\",{position:\"top-right\",autoClose:5000,theme:theme});// Clear form\nsetTitle(\"\");setDescription(\"\");setLimit(\"\");// Refresh job list\nfetchEmployerJobs();}catch(error){console.error(\"Error listing job:\",error);let errorMessage=\"Failed to launch mission\";if(error.reason){errorMessage+=`: ${error.reason}`;}else if(error.message){errorMessage+=`: ${error.message}`;}toast.error(errorMessage,{position:\"top-right\",autoClose:5000,theme:theme});}finally{setIsLoading(false);}};const applyToJob=async()=>{if(!contract||!jobId){toast.error(\"Please connect wallet and enter a job ID\",{position:\"top-right\",autoClose:3000,theme:theme});return;}setIsLoading(true);try{// Validate job ID\nconst jobIdNum=parseInt(jobId);if(isNaN(jobIdNum)||jobIdNum<0){throw new Error(\"Invalid job ID\");}// First check if job exists and is open\nconst jobInfo=await contract.getJob(jobIdNum);if(Number(jobInfo.status)!==0){throw new Error(\"This mission is no longer accepting applications\");}const tx=await contract.applyToJob(jobIdNum);toast.info(`🚀 Application sent! Transaction hash: ${tx.hash.slice(0,10)}...`,{position:\"bottom-right\",autoClose:5000,theme:theme});await tx.wait();toast.success(\"Application successfully sent into orbit!\",{position:\"top-right\",autoClose:5000,theme:theme});setJobId(\"\");}catch(error){console.error(\"Error applying to job:\",error);let errorMessage=\"Application failed\";if(error.reason){errorMessage+=`: ${error.reason}`;}else if(error.message){errorMessage+=`: ${error.message}`;}toast.error(errorMessage,{position:\"top-right\",autoClose:5000,theme:theme});}finally{setIsLoading(false);}};const getJobDetails=async()=>{if(!contract||!jobId){toast.error(\"Please connect wallet and enter a job ID\",{position:\"top-right\",autoClose:3000,theme:theme});return;}setIsLoading(true);try{// Validate job ID\nconst jobIdNum=parseInt(jobId);if(isNaN(jobIdNum)||jobIdNum<0){throw new Error(\"Invalid job ID\");}const job=await contract.getJob(jobIdNum);console.log(`Job ${jobId} Raw Status (getJobDetails):`,job.status);const jobStatus=Number(job.status)===0?\"Open\":\"Closed\";setJobDetails({employer:job.employer,title:job.title,descriptionHash:job.descriptionHash,applicationLimit:job.applicationLimit.toString(),applicationsCount:job.applicationsCount.toString(),status:jobStatus});toast.success(`Mission details retrieved successfully`,{position:\"top-right\",autoClose:3000,theme:theme});}catch(error){console.error(\"Error in getJobDetails:\",error);setJobDetails(null);let errorMessage=\"Failed to retrieve mission details\";if(error.reason){errorMessage+=`: ${error.reason}`;}else if(error.message){errorMessage+=`: ${error.message}`;}toast.error(errorMessage,{position:\"top-right\",autoClose:5000,theme:theme});}finally{setIsLoading(false);}};const closeJob=async()=>{if(!contract||!jobId){toast.error(\"Please connect wallet and enter a job ID\",{position:\"top-right\",autoClose:3000,theme:theme});return;}setIsLoading(true);try{// Validate job ID\nconst jobIdNum=parseInt(jobId);if(isNaN(jobIdNum)||jobIdNum<0){throw new Error(\"Invalid job ID\");}// Check if job exists and user is owner\nconst jobInfo=await contract.getJob(jobIdNum);if(jobInfo.employer.toLowerCase()!==account.toLowerCase()){throw new Error(\"You are not the commander of this mission\");}if(Number(jobInfo.status)!==0){throw new Error(\"This mission is already closed\");}const tx=await contract.closeJob(jobIdNum);toast.info(`🌌 Closing mission! Transaction hash: ${tx.hash.slice(0,10)}...`,{position:\"bottom-right\",autoClose:5000,theme:theme});await tx.wait();toast.success(\"Mission closed—journey complete!\",{position:\"top-right\",autoClose:5000,theme:theme});setJobId(\"\");fetchEmployerJobs();}catch(error){console.error(\"Error closing job:\",error);let errorMessage=\"Failed to close mission\";if(error.reason){errorMessage+=`: ${error.reason}`;}else if(error.message){errorMessage+=`: ${error.message}`;}toast.error(errorMessage,{position:\"top-right\",autoClose:5000,theme:theme});}finally{setIsLoading(false);}};// Filter jobs based on status\nconst filteredJobs=employerJobs.filter(job=>{if(filter===\"All\")return true;if(filter==='Open')return job.status.toLowerCase()==='open';if(filter==='Closed')return job.status.toLowerCase()==='closed';return true;});// Initialize particles\nconst particlesInit=async engine=>{await loadSlim(engine);};return/*#__PURE__*/_jsxs(\"div\",{className:`App ${theme}`,children:[/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Montserrat:wght@400;500&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(Particles,{id:\"tsparticles\",init:particlesInit,options:{background:{color:{value:\"transparent\"}},fpsLimit:60,particles:{number:{value:80,density:{enable:true,value_area:800}},color:{value:theme===\"dark\"?\"#ffffff\":\"#000000\"},shape:{type:\"circle\"},opacity:{value:0.5,random:true,anim:{enable:true,speed:1,opacity_min:0.1}},size:{value:3,random:true,anim:{enable:true,speed:2,size_min:0.1}},move:{enable:true,speed:1,direction:\"none\",random:true,straight:false,outModes:{default:\"out\"}}},interactivity:{events:{onHover:{enable:true,mode:\"repulse\"},onClick:{enable:true,mode:\"push\"}},modes:{repulse:{distance:100,duration:0.4},push:{quantity:4}}},detectRetina:true}}),/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"HRChain: Cosmic Job Portal\"}),/*#__PURE__*/_jsx(\"p\",{className:\"tagline\",children:\"Launch your career into the blockchain galaxy!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"theme-toggle\",onClick:toggleTheme,children:theme===\"dark\"?\"☀️ Light Mode\":\"🌙 Dark Mode\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sound-toggle\",onClick:toggleSound,children:soundEnabled?\"🔊 Sound On\":\"🔇 Sound Off\"})]})]}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading cosmic data...\"})]}),!account?/*#__PURE__*/_jsxs(\"div\",{className:\"connect-pod\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"glow-btn\",onClick:()=>{connectWallet('metamask');playSound();},disabled:isLoading,children:\"Enter the Cosmos (MetaMask)\"}),/*#__PURE__*/_jsx(\"button\",{className:\"glow-btn secondary\",onClick:()=>{connectWallet('walletconnect');playSound();},disabled:isLoading,children:\"Connect with WalletConnect\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"connect-note\",children:[\"No wallet? Install \",/*#__PURE__*/_jsx(\"a\",{href:\"https://metamask.io/\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"MetaMask\"}),\" to join our space expedition!\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"account-bar\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"account\",children:[\"Pilot: \",account]}),/*#__PURE__*/_jsx(\"button\",{className:\"disconnect-btn\",onClick:()=>{disconnectWallet();playSound();},children:\"Eject \\uD83D\\uDE80\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"galaxy-map\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Galaxy Map: Your Missions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Filter: \"}),/*#__PURE__*/_jsxs(\"select\",{value:filter,onChange:e=>setFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Open\",children:\"Open\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Closed\",children:\"Closed\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"refresh-btn\",onClick:()=>{fetchEmployerJobs();playSound();},disabled:isLoading,children:\"\\uD83D\\uDD04 Refresh\"})]}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Scanning the cosmos...\"}):filteredJobs.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No missions found. Launch a new job to get started!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"job-cards\",children:filteredJobs.map(job=>/*#__PURE__*/_jsxs(\"div\",{className:`job-card ${job.error?'error':''} ${job.status.toLowerCase()}`,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Mission #\",job.id,\": \",job.title]}),/*#__PURE__*/_jsxs(\"p\",{className:`status ${job.status.toLowerCase()}`,children:[\"Status: \",job.status]}),/*#__PURE__*/_jsx(\"button\",{className:\"glow-btn\",onClick:()=>{setJobId(job.id);playSound();},disabled:isLoading,children:\"Select\"})]},job.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-pods\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pod list-pod\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"List a Job\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Send 0.01 NEX to launch a new mission.\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Job Title\",value:title,onChange:e=>setTitle(e.target.value),disabled:isLoading}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Mission Brief\",value:description,onChange:e=>setDescription(e.target.value),disabled:isLoading}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Crew Limit\",value:limit,onChange:e=>setLimit(e.target.value),type:\"number\",min:\"1\",disabled:isLoading}),/*#__PURE__*/_jsx(\"button\",{className:\"glow-btn\",onClick:()=>{listJob();playSound();},disabled:isLoading||!title||!description||!limit,children:\"Launch Job\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pod apply-pod\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Join a Mission\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Apply to an open job in the galaxy.\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Job ID\",value:jobId,onChange:e=>setJobId(e.target.value),type:\"number\",min:\"0\",disabled:isLoading}),/*#__PURE__*/_jsx(\"button\",{className:\"glow-btn\",onClick:()=>{applyToJob();playSound();},disabled:isLoading||!jobId,children:\"Apply Now\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pod view-pod\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Scan Job Data\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Retrieve mission details.\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Job ID\",value:jobId,onChange:e=>setJobId(e.target.value),type:\"number\",min:\"0\",disabled:isLoading}),/*#__PURE__*/_jsx(\"button\",{className:\"glow-btn\",onClick:()=>{getJobDetails();playSound();},disabled:isLoading||!jobId,children:\"Scan\"}),jobDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"job-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Commander: \",jobDetails.employer.slice(0,6),\"...\",jobDetails.employer.slice(-4)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Mission: \",jobDetails.title]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Brief Hash: \",jobDetails.descriptionHash.slice(0,10),\"...\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Crew Limit: \",jobDetails.applicationLimit]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Crew Aboard: \",jobDetails.applicationsCount]}),/*#__PURE__*/_jsxs(\"p\",{className:`status ${jobDetails.status.toLowerCase()}`,children:[\"Status: \",jobDetails.status]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pod close-pod\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"End a Mission\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Close a job as the commander.\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Job ID\",value:jobId,onChange:e=>setJobId(e.target.value),type:\"number\",min:\"0\",disabled:isLoading}),/*#__PURE__*/_jsx(\"button\",{className:\"glow-btn\",onClick:()=>{closeJob();playSound();},disabled:isLoading||!jobId,children:\"Terminate\"})]})]})]}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"footer\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"HRChain v1.0 - Connected to \",config.CHAIN_NAME]}),/*#__PURE__*/_jsx(\"p\",{className:\"footer-note\",children:/*#__PURE__*/_jsx(\"a\",{href:`https://explorer.nexus.xyz/address/${config.CONTRACT_ADDRESS}`,target:\"_blank\",rel:\"noopener noreferrer\",children:\"View Contract\"})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","ethers","BrowserProvider","Contract","parseEther","HRChainABI","clickSound","Particles","loadSlim","ToastContainer","toast","WalletConnectConnector","jsx","_jsx","jsxs","_jsxs","config","CONTRACT_ADDRESS","process","env","REACT_APP_CONTRACT_ADDRESS","RPC_URLS","REACT_APP_PRIMARY_RPC_URL","REACT_APP_BACKUP_RPC_URL","CHAIN_ID","REACT_APP_CHAIN_ID","CHAIN_NAME","REACT_APP_CHAIN_NAME","walletconnect","rpc","parseInt","bridge","qrcode","App","provider","setProvider","signer","setSigner","contract","setContract","account","setAccount","title","setTitle","description","setDescription","limit","setLimit","jobId","setJobId","jobDetails","setJobDetails","employerJobs","setEmployerJobs","filter","setFilter","theme","setTheme","isLoading","setIsLoading","activeRpcIndex","setActiveRpcIndex","soundEnabled","setSoundEnabled","clickAudio","Audio","preload","playSound","play","catch","error","console","log","info","position","autoClose","toggleTheme","toggleSound","connectWallet","connectionType","arguments","length","undefined","window","ethereum","browserProvider","send","walletSigner","getSigner","address","getAddress","contractInstance","switchToCorrectNetwork","switchError","success","activate","wcProvider","providers","Web3Provider","wcSigner","message","request","method","params","chainId","toString","code","chainName","rpcUrls","nativeCurrency","name","symbol","decimals","disconnectWallet","getFallbackProvider","nextRpcIndex","JsonRpcProvider","fetchEmployerJobs","warn","jobs","getEmployerJobs","jobDetailsPromises","map","details","getJob","status","jobStatus","Number","id","Promise","all","fallbackProvider","fallbackContract","connect","Error","fallbackError","onJobListed","employer","toLowerCase","onApplicationSubmitted","applicant","slice","onJobClosed","on","removeAllListeners","off","savedTheme","localStorage","getItem","setItem","listJob","warning","limitNum","isNaN","tx","value","hash","wait","errorMessage","reason","applyToJob","jobIdNum","jobInfo","getJobDetails","job","descriptionHash","applicationLimit","applicationsCount","closeJob","filteredJobs","particlesInit","engine","className","children","href","rel","init","options","background","color","fpsLimit","particles","number","density","enable","value_area","shape","type","opacity","random","anim","speed","opacity_min","size","size_min","move","direction","straight","outModes","default","interactivity","events","onHover","mode","onClick","modes","repulse","distance","duration","push","quantity","detectRetina","disabled","target","onChange","e","placeholder","min"],"sources":["/home/tahyor/hrchain-dapp/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { ethers, BrowserProvider, Contract, parseEther } from \"ethers\";\nimport HRChainABI from \"./HRChain.json\";\nimport clickSound from \"./click.wav\";\nimport Particles from \"react-tsparticles\";\nimport { loadSlim } from \"tsparticles-slim\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\n\n// Environment configuration\nconst config = {\n  CONTRACT_ADDRESS: process.env.REACT_APP_CONTRACT_ADDRESS || \"0x53dD1b708b3B23cdD63eD6Fc882780dEBb647BA0\",\n  RPC_URLS: [\n    process.env.REACT_APP_PRIMARY_RPC_URL || \"https://rpc.nexus.xyz/http\",\n    process.env.REACT_APP_BACKUP_RPC_URL || \"https://backup-rpc.nexus.xyz/http\"\n  ],\n  CHAIN_ID: process.env.REACT_APP_CHAIN_ID || \"393\",\n  CHAIN_NAME: process.env.REACT_APP_CHAIN_NAME || \"Nexus Devnet\"\n};\n\n// Initialize WalletConnect\nconst walletconnect = new WalletConnectConnector({\n  rpc: { [parseInt(config.CHAIN_ID)]: config.RPC_URLS[0] },\n  bridge: \"https://bridge.walletconnect.org\",\n  qrcode: true,\n});\n\nfunction App() {\n  const [provider, setProvider] = useState(null);\n  const [signer, setSigner] = useState(null);\n  const [contract, setContract] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [limit, setLimit] = useState(\"\");\n  const [jobId, setJobId] = useState(\"\");\n  const [jobDetails, setJobDetails] = useState(null);\n  const [employerJobs, setEmployerJobs] = useState([]);\n  const [filter, setFilter] = useState(\"All\");\n  const [theme, setTheme] = useState(\"dark\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeRpcIndex, setActiveRpcIndex] = useState(0);\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  \n  // Preload audio\n  const clickAudio = new Audio(clickSound);\n  clickAudio.preload = \"auto\";\n\n  const playSound = () => {\n    if (!soundEnabled) return;\n    \n    clickAudio.play().catch((error) => {\n      console.log(\"Sound play error:\", error);\n      // Only show error once and then disable sound\n      if (soundEnabled) {\n        setSoundEnabled(false);\n        toast.info(\"Sound effects disabled due to browser restrictions\", {\n          position: \"bottom-left\",\n          autoClose: 3000,\n          theme: theme\n        });\n      }\n    });\n  };\n\n  const toggleTheme = () => {\n    setTheme(theme === \"dark\" ? \"light\" : \"dark\");\n    playSound();\n  };\n\n  const toggleSound = () => {\n    setSoundEnabled(!soundEnabled);\n    if (!soundEnabled) {\n      toast.info(\"Sound effects enabled\", {\n        position: \"bottom-left\",\n        autoClose: 2000,\n        theme: theme\n      });\n    } else {\n      toast.info(\"Sound effects disabled\", {\n        position: \"bottom-left\",\n        autoClose: 2000,\n        theme: theme\n      });\n    }\n  };\n\n  // Improved connection with multiple wallet options and RPC fallback\n  const connectWallet = async (connectionType = 'metamask') => {\n    setIsLoading(true);\n    try {\n      if (connectionType === 'metamask') {\n        if (!window.ethereum) {\n          toast.error(\"MetaMask not detected! Please install MetaMask or try another connection method.\", {\n            position: \"top-center\",\n            autoClose: 5000,\n            theme: theme\n          });\n          setIsLoading(false);\n          return;\n        }\n        \n        const browserProvider = new BrowserProvider(window.ethereum);\n        await browserProvider.send(\"eth_requestAccounts\", []);\n        const walletSigner = await browserProvider.getSigner();\n        const address = await walletSigner.getAddress();\n        \n        // Initialize contract\n        const contractInstance = new Contract(config.CONTRACT_ADDRESS, HRChainABI, walletSigner);\n        \n        setProvider(browserProvider);\n        setSigner(walletSigner);\n        setContract(contractInstance);\n        setAccount(address);\n        \n        // Switch to the correct network\n        try {\n          await switchToCorrectNetwork(window.ethereum);\n        } catch (switchError) {\n          console.error(\"Network switch error:\", switchError);\n          toast.error(\"Failed to switch network. Please try again.\", {\n            position: \"top-right\",\n            autoClose: 5000,\n            theme: theme\n          });\n          setIsLoading(false);\n          return;\n        }\n        \n        toast.success(\"Connected to wallet successfully!\", {\n          position: \"top-right\",\n          autoClose: 3000,\n          theme: theme\n        });\n      } else if (connectionType === 'walletconnect') {\n        await walletconnect.activate();\n        const address = walletconnect.account;\n        \n        // Create provider and signer for WalletConnect\n        const wcProvider = new ethers.providers.Web3Provider(walletconnect.provider);\n        const wcSigner = wcProvider.getSigner();\n        const contractInstance = new Contract(config.CONTRACT_ADDRESS, HRChainABI, wcSigner);\n        \n        setProvider(wcProvider);\n        setSigner(wcSigner);\n        setContract(contractInstance);\n        setAccount(address);\n        \n        toast.success(\"Connected via WalletConnect!\", {\n          position: \"top-right\",\n          autoClose: 3000,\n          theme: theme\n        });\n      }\n    } catch (error) {\n      console.error(\"Wallet connection error:\", error);\n      toast.error(`Connection failed: ${error.message || \"Unknown error\"}`, {\n        position: \"top-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const switchToCorrectNetwork = async (ethereum) => {\n    try {\n      await ethereum.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{ chainId: `0x${parseInt(config.CHAIN_ID).toString(16)}` }],\n      });\n    } catch (switchError) {\n      // This error code indicates that the chain has not been added to MetaMask\n      if (switchError.code === 4902) {\n        await ethereum.request({\n          method: \"wallet_addEthereumChain\",\n          params: [{\n            chainId: `0x${parseInt(config.CHAIN_ID).toString(16)}`,\n            chainName: config.CHAIN_NAME,\n            rpcUrls: config.RPC_URLS,\n            nativeCurrency: { name: \"NEX\", symbol: \"NEX\", decimals: 18 },\n          }],\n        });\n      } else {\n        throw switchError;\n      }\n    }\n  };\n\n  const disconnectWallet = () => {\n    setProvider(null);\n    setSigner(null);\n    setContract(null);\n    setAccount(null);\n    setEmployerJobs([]);\n    setJobDetails(null);\n    toast.info(\"Wallet disconnected\", {\n      position: \"top-right\",\n      autoClose: 3000,\n      theme: theme\n    });\n  };\n\n  // Enhanced error handling with RPC fallback\n  const getFallbackProvider = () => {\n    if (!provider && signer) {\n      const nextRpcIndex = (activeRpcIndex + 1) % config.RPC_URLS.length;\n      setActiveRpcIndex(nextRpcIndex);\n      \n      console.log(`Switching to fallback RPC: ${config.RPC_URLS[nextRpcIndex]}`);\n      return new ethers.providers.JsonRpcProvider(config.RPC_URLS[nextRpcIndex]);\n    }\n    return provider;\n  };\n\n  const fetchEmployerJobs = useCallback(async () => {\n    if (!contract || !account) {\n      console.warn(\"Cannot fetch jobs: contract or account not set\");\n      return;\n    }\n    \n    setIsLoading(true);\n    try {\n      const jobs = await contract.getEmployerJobs(account, 0, 10);\n      console.log('Raw Job IDs:', jobs);\n      \n      if (jobs.length === 0) {\n        console.log(\"No jobs found for employer:\", account);\n        setEmployerJobs([]);\n        setIsLoading(false);\n        return;\n      }\n      \n      const jobDetailsPromises = jobs.map(async (jobId) => {\n        try {\n          const details = await contract.getJob(jobId);\n          console.log(`Job ${jobId} Raw Status:`, details.status);\n          const jobStatus = Number(details.status) === 0 ? \"Open\" : \"Closed\";\n          console.log(`Job ${jobId} Interpreted Status:`, jobStatus);\n          return {\n            id: jobId.toString(),\n            title: details.title,\n            status: jobStatus,\n          };\n        } catch (error) {\n          console.error(`Error fetching details for job ${jobId}:`, error);\n          return {\n            id: jobId.toString(),\n            title: \"Error loading title\",\n            status: \"Unknown\",\n            error: true\n          };\n        }\n      });\n      \n      const jobDetails = await Promise.all(jobDetailsPromises);\n      console.log('Processed Employer Jobs:', jobDetails);\n      setEmployerJobs(jobDetails);\n    } catch (error) {\n      console.error(\"Error fetching jobs:\", error);\n      toast.error(\"Failed to fetch jobs. Retrying with backup RPC...\", {\n        position: \"top-right\",\n        autoClose: 3000,\n        theme: theme\n      });\n      \n      // Try with fallback RPC\n      try {\n        const fallbackProvider = getFallbackProvider();\n        if (fallbackProvider && signer) {\n          const fallbackContract = new Contract(config.CONTRACT_ADDRESS, HRChainABI, signer.connect(fallbackProvider));\n          const jobs = await fallbackContract.getEmployerJobs(account, 0, 10);\n          \n          // Similar processing as above\n          const jobDetailsPromises = jobs.map(async (jobId) => {\n            const details = await fallbackContract.getJob(jobId);\n            const jobStatus = Number(details.status) === 0 ? \"Open\" : \"Closed\";\n            return {\n              id: jobId.toString(),\n              title: details.title,\n              status: jobStatus,\n            };\n          });\n          \n          const jobDetails = await Promise.all(jobDetailsPromises);\n          setEmployerJobs(jobDetails);\n        } else {\n          throw new Error(\"No fallback provider available\");\n        }\n      } catch (fallbackError) {\n        console.error(\"Fallback RPC also failed:\", fallbackError);\n        toast.error(\"Failed to fetch jobs. Please try again later.\", {\n          position: \"top-right\",\n          autoClose: 5000,\n          theme: theme\n        });\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  }, [contract, account, theme, activeRpcIndex, provider, signer]);\n\n  // Set up event listeners with proper cleanup\n  useEffect(() => {\n    if (contract) {\n      const onJobListed = (jobId, employer) => {\n        console.log(`Job ${jobId} listed by ${employer}`);\n        if (employer.toLowerCase() === account?.toLowerCase()) {\n          fetchEmployerJobs();\n          toast.success(`🚀 Your new mission #${jobId} has been launched!`, {\n            position: \"top-right\",\n            autoClose: 5000,\n            theme: theme\n          });\n        }\n      };\n\n      const onApplicationSubmitted = (jobId, applicant) => {\n        console.log(`Application submitted for job ${jobId} by ${applicant}`);\n        toast.info(`🚀 New application for Mission #${jobId} by ${applicant.slice(0, 6)}...`, {\n          position: \"top-right\",\n          autoClose: 5000,\n          theme: theme\n        });\n      };\n\n      const onJobClosed = (jobId, employer) => {\n        console.log(`Job ${jobId} closed by ${employer}`);\n        if (employer?.toLowerCase() === account?.toLowerCase()) {\n          fetchEmployerJobs();\n          toast.info(`🌌 Mission #${jobId} has been closed!`, {\n            position: \"top-right\",\n            autoClose: 5000,\n            theme: theme\n          });\n        }\n      };\n\n      // Set up event listeners\n      contract.on(\"JobListed\", onJobListed);\n      contract.on(\"ApplicationSubmitted\", onApplicationSubmitted);\n      contract.on(\"JobClosed\", onJobClosed);\n\n      // Initial data fetch\n      fetchEmployerJobs();\n\n      // Cleanup function - properly remove all listeners\n      return () => {\n        if (contract.removeAllListeners) {\n          contract.removeAllListeners(\"JobListed\");\n          contract.removeAllListeners(\"ApplicationSubmitted\");\n          contract.removeAllListeners(\"JobClosed\");\n        } else {\n          // Fallback for older ethers versions\n          contract.off(\"JobListed\", onJobListed);\n          contract.off(\"ApplicationSubmitted\", onApplicationSubmitted);\n          contract.off(\"JobClosed\", onJobClosed);\n        }\n      };\n    }\n  }, [contract, account, theme, fetchEmployerJobs]);\n\n  // Save theme preference\n  useEffect(() => {\n    // Load saved theme from localStorage if available\n    const savedTheme = localStorage.getItem('hrchain-theme');\n    if (savedTheme) {\n      setTheme(savedTheme);\n    }\n    \n    // Save theme preference when it changes\n    localStorage.setItem('hrchain-theme', theme);\n  }, [theme]);\n\n  // Transaction functions with improved error handling\n  const listJob = async () => {\n    if (!contract) {\n      toast.error(\"Wallet not connected\", {\n        position: \"top-right\",\n        autoClose: 3000,\n        theme: theme\n      });\n      return;\n    }\n    \n    if (!title || !description || !limit) {\n      toast.warning(\"Please fill in all job details\", {\n        position: \"top-right\",\n        autoClose: 3000,\n        theme: theme\n      });\n      return;\n    }\n    \n    setIsLoading(true);\n    try {\n      // Validate inputs\n      const limitNum = parseInt(limit);\n      if (isNaN(limitNum) || limitNum <= 0) {\n        throw new Error(\"Crew limit must be a positive number\");\n      }\n      \n      const tx = await contract.listJob(title, description, limitNum, {\n        value: parseEther(\"0.01\"),\n      });\n      \n      toast.info(`🚀 Mission launch initiated! Transaction hash: ${tx.hash.slice(0, 10)}...`, {\n        position: \"bottom-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n      \n      await tx.wait();\n      \n      toast.success(\"Mission launched successfully!\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n      \n      // Clear form\n      setTitle(\"\");\n      setDescription(\"\");\n      setLimit(\"\");\n      \n      // Refresh job list\n      fetchEmployerJobs();\n    } catch (error) {\n      console.error(\"Error listing job:\", error);\n      \n      let errorMessage = \"Failed to launch mission\";\n      if (error.reason) {\n        errorMessage += `: ${error.reason}`;\n      } else if (error.message) {\n        errorMessage += `: ${error.message}`;\n      }\n      \n      toast.error(errorMessage, {\n        position: \"top-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const applyToJob = async () => {\n    if (!contract || !jobId) {\n      toast.error(\"Please connect wallet and enter a job ID\", {\n        position: \"top-right\",\n        autoClose: 3000,\n        theme: theme\n      });\n      return;\n    }\n    \n    setIsLoading(true);\n    try {\n      // Validate job ID\n      const jobIdNum = parseInt(jobId);\n      if (isNaN(jobIdNum) || jobIdNum < 0) {\n        throw new Error(\"Invalid job ID\");\n      }\n      \n      // First check if job exists and is open\n      const jobInfo = await contract.getJob(jobIdNum);\n      if (Number(jobInfo.status) !== 0) {\n        throw new Error(\"This mission is no longer accepting applications\");\n      }\n      \n      const tx = await contract.applyToJob(jobIdNum);\n      \n      toast.info(`🚀 Application sent! Transaction hash: ${tx.hash.slice(0, 10)}...`, {\n        position: \"bottom-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n      \n      await tx.wait();\n      \n      toast.success(\"Application successfully sent into orbit!\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n      \n      setJobId(\"\");\n    } catch (error) {\n      console.error(\"Error applying to job:\", error);\n      \n      let errorMessage = \"Application failed\";\n      if (error.reason) {\n        errorMessage += `: ${error.reason}`;\n      } else if (error.message) {\n        errorMessage += `: ${error.message}`;\n      }\n      \n      toast.error(errorMessage, {\n        position: \"top-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getJobDetails = async () => {\n    if (!contract || !jobId) {\n      toast.error(\"Please connect wallet and enter a job ID\", {\n        position: \"top-right\",\n        autoClose: 3000,\n        theme: theme\n      });\n      return;\n    }\n    \n    setIsLoading(true);\n    try {\n      // Validate job ID\n      const jobIdNum = parseInt(jobId);\n      if (isNaN(jobIdNum) || jobIdNum < 0) {\n        throw new Error(\"Invalid job ID\");\n      }\n      \n      const job = await contract.getJob(jobIdNum);\n      console.log(`Job ${jobId} Raw Status (getJobDetails):`, job.status);\n      \n      const jobStatus = Number(job.status) === 0 ? \"Open\" : \"Closed\";\n      setJobDetails({\n        employer: job.employer,\n        title: job.title,\n        descriptionHash: job.descriptionHash,\n        applicationLimit: job.applicationLimit.toString(),\n        applicationsCount: job.applicationsCount.toString(),\n        status: jobStatus,\n      });\n      \n      toast.success(`Mission details retrieved successfully`, {\n        position: \"top-right\",\n        autoClose: 3000,\n        theme: theme\n      });\n    } catch (error) {\n      console.error(\"Error in getJobDetails:\", error);\n      \n      setJobDetails(null);\n      \n      let errorMessage = \"Failed to retrieve mission details\";\n      if (error.reason) {\n        errorMessage += `: ${error.reason}`;\n      } else if (error.message) {\n        errorMessage += `: ${error.message}`;\n      }\n      \n      toast.error(errorMessage, {\n        position: \"top-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const closeJob = async () => {\n    if (!contract || !jobId) {\n      toast.error(\"Please connect wallet and enter a job ID\", {\n        position: \"top-right\",\n        autoClose: 3000,\n        theme: theme\n      });\n      return;\n    }\n    \n    setIsLoading(true);\n    try {\n      // Validate job ID\n      const jobIdNum = parseInt(jobId);\n      if (isNaN(jobIdNum) || jobIdNum < 0) {\n        throw new Error(\"Invalid job ID\");\n      }\n      \n      // Check if job exists and user is owner\n      const jobInfo = await contract.getJob(jobIdNum);\n      if (jobInfo.employer.toLowerCase() !== account.toLowerCase()) {\n        throw new Error(\"You are not the commander of this mission\");\n      }\n      \n      if (Number(jobInfo.status) !== 0) {\n        throw new Error(\"This mission is already closed\");\n      }\n      \n      const tx = await contract.closeJob(jobIdNum);\n      \n      toast.info(`🌌 Closing mission! Transaction hash: ${tx.hash.slice(0, 10)}...`, {\n        position: \"bottom-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n      \n      await tx.wait();\n      \n      toast.success(\"Mission closed—journey complete!\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n      \n      setJobId(\"\");\n      fetchEmployerJobs();\n    } catch (error) {\n      console.error(\"Error closing job:\", error);\n      \n      let errorMessage = \"Failed to close mission\";\n      if (error.reason) {\n        errorMessage += `: ${error.reason}`;\n      } else if (error.message) {\n        errorMessage += `: ${error.message}`;\n      }\n      \n      toast.error(errorMessage, {\n        position: \"top-right\",\n        autoClose: 5000,\n        theme: theme\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Filter jobs based on status\n  const filteredJobs = employerJobs.filter((job) => {\n    if (filter === \"All\") return true;\n    if (filter === 'Open') return job.status.toLowerCase() === 'open';\n    if (filter === 'Closed') return job.status.toLowerCase() === 'closed';\n    return true;\n  });\n  \n  // Initialize particles\n  const particlesInit = async (engine) => {\n    await loadSlim(engine);\n  };\n\n  return (\n    <div className={`App ${theme}`}>\n      <link\n        href=\"https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Montserrat:wght@400;500&display=swap\"\n        rel=\"stylesheet\"\n      />\n      <Particles\n        id=\"tsparticles\"\n        init={particlesInit}\n        options={{\n          background: { color: { value: \"transparent\" } },\n          fpsLimit: 60,\n          particles: {\n            number: { value: 80, density: { enable: true, value_area: 800 } },\n            color: { value: theme === \"dark\" ? \"#ffffff\" : \"#000000\" },\n            shape: { type: \"circle\" },\n            opacity: { value: 0.5, random: true, anim: { enable: true, speed: 1, opacity_min: 0.1 } },\n            size: { value: 3, random: true, anim: { enable: true, speed: 2, size_min: 0.1 } },\n            move: { enable: true, speed: 1, direction: \"none\", random: true, straight: false, outModes: { default: \"out\" } },\n          },\n          interactivity: {\n            events: { onHover: { enable: true, mode: \"repulse\" }, onClick: { enable: true, mode: \"push\" } },\n            modes: { repulse: { distance: 100, duration: 0.4 }, push: { quantity: 4 } },\n          },\n          detectRetina: true,\n        }}\n      />\n      <header>\n        <h1>HRChain: Cosmic Job Portal</h1>\n        <p className=\"tagline\">Launch your career into the blockchain galaxy!</p>\n        <div className=\"controls\">\n          <button className=\"theme-toggle\" onClick={toggleTheme}>\n            {theme === \"dark\" ? \"☀️ Light Mode\" : \"🌙 Dark Mode\"}\n          </button>\n          <button className=\"sound-toggle\" onClick={toggleSound}>\n            {soundEnabled ? \"🔊 Sound On\" : \"🔇 Sound Off\"}\n          </button>\n        </div>\n      </header>\n\n      {isLoading && (\n        <div className=\"loading-overlay\">\n          <div className=\"loading-spinner\"></div>\n          <p>Loading cosmic data...</p>\n        </div>\n      )}\n\n      {!account ? (\n        <div className=\"connect-pod\">\n          <button \n            className=\"glow-btn\" \n            onClick={() => { connectWallet('metamask'); playSound(); }}\n            disabled={isLoading}\n          >\n            Enter the Cosmos (MetaMask)\n          </button>\n          <button \n            className=\"glow-btn secondary\" \n            onClick={() => { connectWallet('walletconnect'); playSound(); }}\n            disabled={isLoading}\n          >\n            Connect with WalletConnect\n          </button>\n          <p className=\"connect-note\">\n            No wallet? Install <a href=\"https://metamask.io/\" target=\"_blank\" rel=\"noopener noreferrer\">MetaMask</a> to join our space expedition!\n          </p>\n        </div>\n      ) : (\n        <div className=\"dashboard\">\n          <div className=\"account-bar\">\n            <p className=\"account\">Pilot: {account}</p>\n            <button \n              className=\"disconnect-btn\" \n              onClick={() => { disconnectWallet(); playSound(); }}\n            >\n              Eject 🚀\n            </button>\n          </div>\n\n          <div className=\"galaxy-map\">\n            <h2>Galaxy Map: Your Missions</h2>\n            <div className=\"filter\">\n              <label>Filter: </label>\n              <select value={filter} onChange={(e) => setFilter(e.target.value)}>\n                <option value=\"All\">All</option>\n                <option value=\"Open\">Open</option>\n                <option value=\"Closed\">Closed</option>\n              </select>\n              <button \n                className=\"refresh-btn\" \n                onClick={() => { fetchEmployerJobs(); playSound(); }}\n                disabled={isLoading}\n              >\n                🔄 Refresh\n              </button>\n            </div>\n            {isLoading ? (\n              <p>Scanning the cosmos...</p>\n            ) : filteredJobs.length === 0 ? (\n              <p>No missions found. Launch a new job to get started!</p>\n            ) : (\n              <div className=\"job-cards\">\n                {filteredJobs.map((job) => (\n                  <div key={job.id} className={`job-card ${job.error ? 'error' : ''} ${job.status.toLowerCase()}`}>\n                    <h3>Mission #{job.id}: {job.title}</h3>\n                    <p className={`status ${job.status.toLowerCase()}`}>\n                      Status: {job.status}\n                    </p>\n                    <button\n                      className=\"glow-btn\"\n                      onClick={() => { setJobId(job.id); playSound(); }}\n                      disabled={isLoading}\n                    >\n                      Select\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          <div className=\"job-pods\">\n            <div className=\"pod list-pod\">\n              <h2>List a Job</h2>\n              <p>Send 0.01 NEX to launch a new mission.</p>\n              <input\n                placeholder=\"Job Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                disabled={isLoading}\n              />\n              <input\n                placeholder=\"Mission Brief\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                disabled={isLoading}\n              />\n              <input\n                placeholder=\"Crew Limit\"\n                value={limit}\n                onChange={(e) => setLimit(e.target.value)}\n                type=\"number\"\n                min=\"1\"\n                disabled={isLoading}\n              />\n              <button \n                className=\"glow-btn\" \n                onClick={() => { listJob(); playSound(); }}\n                disabled={isLoading || !title || !description || !limit}\n              >\n                Launch Job\n              </button>\n            </div>\n\n            <div className=\"pod apply-pod\">\n              <h2>Join a Mission</h2>\n              <p>Apply to an open job in the galaxy.</p>\n              <input\n                placeholder=\"Job ID\"\n                value={jobId}\n                onChange={(e) => setJobId(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                disabled={isLoading}\n              />\n              <button \n                className=\"glow-btn\" \n                onClick={() => { applyToJob(); playSound(); }}\n                disabled={isLoading || !jobId}\n              >\n                Apply Now\n              </button>\n            </div>\n\n            <div className=\"pod view-pod\">\n              <h2>Scan Job Data</h2>\n              <p>Retrieve mission details.</p>\n              <input\n                placeholder=\"Job ID\"\n                value={jobId}\n                onChange={(e) => setJobId(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                disabled={isLoading}\n              />\n              <button \n                className=\"glow-btn\" \n                onClick={() => { getJobDetails(); playSound(); }}\n                disabled={isLoading || !jobId}\n              >\n                Scan\n              </button>\n              {jobDetails && (\n                <div className=\"job-info\">\n                  <p>Commander: {jobDetails.employer.slice(0, 6)}...{jobDetails.employer.slice(-4)}</p>\n                  <p>Mission: {jobDetails.title}</p>\n                  <p>Brief Hash: {jobDetails.descriptionHash.slice(0, 10)}...</p>\n                  <p>Crew Limit: {jobDetails.applicationLimit}</p>\n                  <p>Crew Aboard: {jobDetails.applicationsCount}</p>\n                  <p className={`status ${jobDetails.status.toLowerCase()}`}>\n                    Status: {jobDetails.status}\n                  </p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"pod close-pod\">\n              <h2>End a Mission</h2>\n              <p>Close a job as the commander.</p>\n              <input\n                placeholder=\"Job ID\"\n                value={jobId}\n                onChange={(e) => setJobId(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                disabled={isLoading}\n              />\n              <button \n                className=\"glow-btn\" \n                onClick={() => { closeJob(); playSound(); }}\n                disabled={isLoading || !jobId}\n              >\n                Terminate\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      <ToastContainer />\n      <footer>\n        <p>HRChain v1.0 - Connected to {config.CHAIN_NAME}</p>\n        <p className=\"footer-note\">\n          <a \n            href={`https://explorer.nexus.xyz/address/${config.CONTRACT_ADDRESS}`}\n            target=\"_blank\" \n            rel=\"noopener noreferrer\"\n          >\n            View Contract\n          </a>\n        </p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}